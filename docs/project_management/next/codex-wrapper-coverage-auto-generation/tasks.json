[
  {
    "id": "C0-code",
    "name": "Non-empty deterministic core (code)",
    "type": "code",
    "phase": "C0",
    "status": "pending",
    "description": "Implement the C0 spec (production code only): non-empty wrapper-derived coverage (Scenarios 0-2) and determinism enforcement in `xtask codex-wrapper-coverage`.",
    "references": [
      "docs/adr/0003-wrapper-coverage-auto-generation.md",
      "docs/adr/0002-codex-cli-parity-coverage-mapping.md",
      "docs/specs/codex-wrapper-coverage-generator-contract.md",
      "docs/specs/codex-wrapper-coverage-scenarios-v1.md",
      "cli_manifests/codex/RULES.json",
      "cli_manifests/codex/SCHEMA.json",
      "cli_manifests/codex/VALIDATOR_SPEC.md",
      "crates/codex/src/wrapper_coverage_manifest.rs",
      "crates/xtask/src/codex_wrapper_coverage.rs",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/plan.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/C0-spec.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C0-code.md"
    ],
    "acceptance_criteria": [
      "`wrapper_coverage_manifest()` emits non-empty coverage including `path=[]` and `path=[\"exec\"]` per Scenario Catalog v1 (Scenarios 0-2 only)",
      "`xtask codex-wrapper-coverage` requires `SOURCE_DATE_EPOCH` (missing/invalid fails; no wall-clock fallback)",
      "`xtask codex-wrapper-coverage` rejects empty coverage, rejects any scope fields, and enforces v1 note restrictions",
      "No tests added/modified"
    ],
    "start_checklist": [
      "git checkout feat/codex-wrapper-coverage-auto-generation && git pull --ff-only",
      "Read plan.md, tasks.json, session_log.md, C0-spec.md, kickoff prompt",
      "Set task status to in_progress in docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json (orchestration branch)",
      "Add START entry to docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md; commit docs with message 'docs: start C0-code'",
      "Create the task branch and worktree: `git worktree add -b wcg-c0-manifest-core-code wt/wcg-c0-manifest-core-code feat/codex-wrapper-coverage-auto-generation`.",
      "Do not edit `docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json` or `docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md` from the worktree."
    ],
    "end_checklist": [
      "Run required commands (capture outputs): `cargo fmt`; `cargo clippy --workspace --all-targets -- -D warnings`.",
      "Inside `wt/wcg-c0-manifest-core-code`, commit C0-code changes (no planning-pack edits).",
      "Outside the worktree, ensure the task branch contains the new commit (fast-forward if needed); do not merge into `feat/codex-wrapper-coverage-auto-generation`.",
      "Checkout `feat/codex-wrapper-coverage-auto-generation`; update tasks.json to completed; add an END entry to session_log.md with commands/results/blockers; commit docs with 'docs: finish C0-code'.",
      "Remove worktree `wt/wcg-c0-manifest-core-code`."
    ],
    "worktree": "wt/wcg-c0-manifest-core-code",
    "integration_task": "C0-integ",
    "kickoff_prompt": "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C0-code.md",
    "depends_on": [],
    "concurrent_with": [
      "C0-test"
    ]
  },
  {
    "id": "C0-test",
    "name": "Non-empty deterministic core (test)",
    "type": "test",
    "phase": "C0",
    "status": "pending",
    "description": "Add tests validating the C0 spec (tests only): `SOURCE_DATE_EPOCH` enforcement, determinism, non-empty output, and v1 scope/note restrictions.",
    "references": [
      "docs/adr/0003-wrapper-coverage-auto-generation.md",
      "docs/specs/codex-wrapper-coverage-generator-contract.md",
      "docs/specs/codex-wrapper-coverage-scenarios-v1.md",
      "cli_manifests/codex/RULES.json",
      "cli_manifests/codex/SCHEMA.json",
      "cli_manifests/codex/VALIDATOR_SPEC.md",
      "crates/xtask/tests/c2_spec_wrapper_coverage.rs",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/plan.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/C0-spec.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C0-test.md"
    ],
    "acceptance_criteria": [
      "Tests cover C0 acceptance criteria (SOURCE_DATE_EPOCH required; output deterministic and non-empty; v1 scope/note restrictions enforced)",
      "No production code changes",
      "Required commands executed (fmt + targeted tests) and recorded in session_log.md"
    ],
    "start_checklist": [
      "git checkout feat/codex-wrapper-coverage-auto-generation && git pull --ff-only",
      "Read plan.md, tasks.json, session_log.md, C0-spec.md, kickoff prompt",
      "Set task status to in_progress in docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json (orchestration branch)",
      "Add START entry to docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md; commit docs with message 'docs: start C0-test'",
      "Create the task branch and worktree: `git worktree add -b wcg-c0-manifest-core-test wt/wcg-c0-manifest-core-test feat/codex-wrapper-coverage-auto-generation`.",
      "Do not edit `docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json` or `docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md` from the worktree."
    ],
    "end_checklist": [
      "Run required commands (capture outputs): `cargo fmt`; `cargo test -p xtask` (and any additional targeted tests for files you touched).",
      "Inside `wt/wcg-c0-manifest-core-test`, commit C0-test changes (no planning-pack edits).",
      "Outside the worktree, ensure the task branch contains the new commit (fast-forward if needed); do not merge into `feat/codex-wrapper-coverage-auto-generation`.",
      "Checkout `feat/codex-wrapper-coverage-auto-generation`; update tasks.json to completed; add an END entry to session_log.md with commands/results/blockers; commit docs with 'docs: finish C0-test'.",
      "Remove worktree `wt/wcg-c0-manifest-core-test`."
    ],
    "worktree": "wt/wcg-c0-manifest-core-test",
    "integration_task": "C0-integ",
    "kickoff_prompt": "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C0-test.md",
    "depends_on": [],
    "concurrent_with": [
      "C0-code"
    ]
  },
  {
    "id": "C0-integ",
    "name": "Non-empty deterministic core (integration)",
    "type": "integration",
    "phase": "C0",
    "status": "pending",
    "description": "Merge C0 code/test, reconcile to spec, and gate with fmt/clippy/tests/preflight.",
    "references": [
      "docs/adr/0003-wrapper-coverage-auto-generation.md",
      "docs/specs/codex-wrapper-coverage-generator-contract.md",
      "docs/specs/codex-wrapper-coverage-scenarios-v1.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/plan.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/C0-spec.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C0-integ.md"
    ],
    "acceptance_criteria": [
      "C0 merged and matches C0-spec.md",
      "Commands executed and logged: `cargo fmt`, `cargo clippy --workspace --all-targets -- -D warnings`, `cargo test -p xtask`, `make preflight`",
      "`SOURCE_DATE_EPOCH=0 cargo run -p xtask -- codex-wrapper-coverage --out /tmp/wrapper_coverage.json` succeeds and output is non-empty"
    ],
    "start_checklist": [
      "git checkout feat/codex-wrapper-coverage-auto-generation && git pull --ff-only",
      "Read plan.md, tasks.json, session_log.md, C0-spec.md, kickoff prompt",
      "Set task status to in_progress in docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json (orchestration branch)",
      "Add START entry to docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md; commit docs with message 'docs: start C0-integ'",
      "Create the integration branch and worktree: `git worktree add -b wcg-c0-manifest-core-integ wt/wcg-c0-manifest-core-integ feat/codex-wrapper-coverage-auto-generation`.",
      "Do not edit `docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json` or `docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md` from the worktree."
    ],
    "end_checklist": [
      "Merge upstream branches `wcg-c0-manifest-core-code` and `wcg-c0-manifest-core-test` into the integration worktree and reconcile behavior to C0-spec.md.",
      "Run required commands (capture outputs): `cargo fmt`; `cargo clippy --workspace --all-targets -- -D warnings`; `cargo test -p xtask`; `make preflight`.",
      "Commit integration changes on branch `wcg-c0-manifest-core-integ`.",
      "Fast-forward merge `wcg-c0-manifest-core-integ` into `feat/codex-wrapper-coverage-auto-generation`; update tasks.json to completed; add an END entry to session_log.md with commands/results/blockers; commit docs with 'docs: finish C0-integ'.",
      "Remove worktree `wt/wcg-c0-manifest-core-integ`."
    ],
    "worktree": "wt/wcg-c0-manifest-core-integ",
    "integration_task": "C0-integ",
    "kickoff_prompt": "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C0-integ.md",
    "depends_on": [
      "C0-code",
      "C0-test"
    ],
    "concurrent_with": []
  },
  {
    "id": "C1-code",
    "name": "Full scenario catalog v1 + parity exclusions (code)",
    "type": "code",
    "phase": "C1",
    "status": "pending",
    "description": "Implement the C1 spec (production code only): complete Scenario Catalog v1 coverage (Scenarios 3-12) and enforce parity exclusions at generation time.",
    "references": [
      "docs/adr/0003-wrapper-coverage-auto-generation.md",
      "docs/specs/codex-wrapper-coverage-generator-contract.md",
      "docs/specs/codex-wrapper-coverage-scenarios-v1.md",
      "cli_manifests/codex/RULES.json",
      "cli_manifests/codex/SCHEMA.json",
      "cli_manifests/codex/VALIDATOR_SPEC.md",
      "crates/codex/src/wrapper_coverage_manifest.rs",
      "crates/xtask/src/codex_wrapper_coverage.rs",
      "crates/xtask/src/codex_report.rs",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/plan.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/C1-spec.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C1-code.md"
    ],
    "acceptance_criteria": [
      "`wrapper_coverage_manifest()` covers all Scenario Catalog v1 paths (Scenarios 0-12) with exact flags/args and note policy",
      "`xtask codex-wrapper-coverage` rejects any identity listed in `RULES.json.parity_exclusions`",
      "No tests added/modified"
    ],
    "start_checklist": [
      "git checkout feat/codex-wrapper-coverage-auto-generation && git pull --ff-only",
      "Read plan.md, tasks.json, session_log.md, C1-spec.md, kickoff prompt",
      "Set task status to in_progress in docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json (orchestration branch)",
      "Add START entry to docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md; commit docs with message 'docs: start C1-code'",
      "Create the task branch and worktree: `git worktree add -b wcg-c1-scenario-catalog-code wt/wcg-c1-scenario-catalog-code feat/codex-wrapper-coverage-auto-generation`.",
      "Do not edit `docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json` or `docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md` from the worktree."
    ],
    "end_checklist": [
      "Run required commands (capture outputs): `cargo fmt`; `cargo clippy --workspace --all-targets -- -D warnings`.",
      "Inside `wt/wcg-c1-scenario-catalog-code`, commit C1-code changes (no planning-pack edits).",
      "Outside the worktree, ensure the task branch contains the new commit (fast-forward if needed); do not merge into `feat/codex-wrapper-coverage-auto-generation`.",
      "Checkout `feat/codex-wrapper-coverage-auto-generation`; update tasks.json to completed; add an END entry to session_log.md with commands/results/blockers; commit docs with 'docs: finish C1-code'.",
      "Remove worktree `wt/wcg-c1-scenario-catalog-code`."
    ],
    "worktree": "wt/wcg-c1-scenario-catalog-code",
    "integration_task": "C1-integ",
    "kickoff_prompt": "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C1-code.md",
    "depends_on": [
      "C0-integ"
    ],
    "concurrent_with": [
      "C1-test"
    ]
  },
  {
    "id": "C1-test",
    "name": "Full scenario catalog v1 + parity exclusions (test)",
    "type": "test",
    "phase": "C1",
    "status": "pending",
    "description": "Add tests validating C1: full Scenario Catalog v1 exactness, v1 scope/note restrictions, and parity exclusions semantics in generator and reports (tests only).",
    "references": [
      "docs/adr/0003-wrapper-coverage-auto-generation.md",
      "docs/specs/codex-wrapper-coverage-generator-contract.md",
      "docs/specs/codex-wrapper-coverage-scenarios-v1.md",
      "cli_manifests/codex/RULES.json",
      "cli_manifests/codex/SCHEMA.json",
      "cli_manifests/codex/VALIDATOR_SPEC.md",
      "crates/xtask/src/codex_report.rs",
      "crates/xtask/tests/c2_spec_wrapper_coverage.rs",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/plan.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/C1-spec.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C1-test.md"
    ],
    "acceptance_criteria": [
      "Tests cover C1 acceptance criteria (catalog exactness, v1 scope/note policy, parity exclusions generation/report semantics)",
      "No production code changes"
    ],
    "start_checklist": [
      "git checkout feat/codex-wrapper-coverage-auto-generation && git pull --ff-only",
      "Read plan.md, tasks.json, session_log.md, C1-spec.md, kickoff prompt",
      "Set task status to in_progress in docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json (orchestration branch)",
      "Add START entry to docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md; commit docs with message 'docs: start C1-test'",
      "Create the task branch and worktree: `git worktree add -b wcg-c1-scenario-catalog-test wt/wcg-c1-scenario-catalog-test feat/codex-wrapper-coverage-auto-generation`.",
      "Do not edit `docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json` or `docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md` from the worktree."
    ],
    "end_checklist": [
      "Run required commands (capture outputs): `cargo fmt`; `cargo test -p xtask` (and any additional targeted tests for files you touched).",
      "Inside `wt/wcg-c1-scenario-catalog-test`, commit C1-test changes (no planning-pack edits).",
      "Outside the worktree, ensure the task branch contains the new commit (fast-forward if needed); do not merge into `feat/codex-wrapper-coverage-auto-generation`.",
      "Checkout `feat/codex-wrapper-coverage-auto-generation`; update tasks.json to completed; add an END entry to session_log.md with commands/results/blockers; commit docs with 'docs: finish C1-test'.",
      "Remove worktree `wt/wcg-c1-scenario-catalog-test`."
    ],
    "worktree": "wt/wcg-c1-scenario-catalog-test",
    "integration_task": "C1-integ",
    "kickoff_prompt": "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C1-test.md",
    "depends_on": [
      "C0-integ"
    ],
    "concurrent_with": [
      "C1-code"
    ]
  },
  {
    "id": "C1-integ",
    "name": "Full scenario catalog v1 + parity exclusions (integration)",
    "type": "integration",
    "phase": "C1",
    "status": "pending",
    "description": "Merge C1 code/test, reconcile to spec, refresh committed wrapper_coverage.json, and gate with fmt/clippy/tests/preflight + report/validate commands.",
    "references": [
      "docs/adr/0003-wrapper-coverage-auto-generation.md",
      "docs/specs/codex-wrapper-coverage-generator-contract.md",
      "docs/specs/codex-wrapper-coverage-scenarios-v1.md",
      "cli_manifests/codex/RULES.json",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/plan.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/C1-spec.md",
      "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C1-integ.md"
    ],
    "acceptance_criteria": [
      "C1 merged and matches C1-spec.md",
      "Committed `cli_manifests/codex/wrapper_coverage.json` regenerated via `xtask codex-wrapper-coverage` with deterministic `SOURCE_DATE_EPOCH`",
      "Commands executed and logged: `cargo fmt`, `cargo clippy --workspace --all-targets -- -D warnings`, `cargo test -p xtask`, `make preflight`",
      "`SOURCE_DATE_EPOCH=0 cargo run -p xtask -- codex-report --version \"$(cat cli_manifests/codex/latest_validated.txt | tr -d '\\n')\" --root cli_manifests/codex` succeeds",
      "`SOURCE_DATE_EPOCH=0 cargo run -p xtask -- codex-validate --root cli_manifests/codex` succeeds"
    ],
    "start_checklist": [
      "git checkout feat/codex-wrapper-coverage-auto-generation && git pull --ff-only",
      "Read plan.md, tasks.json, session_log.md, C1-spec.md, kickoff prompt",
      "Set task status to in_progress in docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json (orchestration branch)",
      "Add START entry to docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md; commit docs with message 'docs: start C1-integ'",
      "Create the integration branch and worktree: `git worktree add -b wcg-c1-scenario-catalog-integ wt/wcg-c1-scenario-catalog-integ feat/codex-wrapper-coverage-auto-generation`.",
      "Do not edit `docs/project_management/next/codex-wrapper-coverage-auto-generation/tasks.json` or `docs/project_management/next/codex-wrapper-coverage-auto-generation/session_log.md` from the worktree."
    ],
    "end_checklist": [
      "Merge upstream branches `wcg-c1-scenario-catalog-code` and `wcg-c1-scenario-catalog-test` into the integration worktree and reconcile behavior to C1-spec.md.",
      "Run required commands (capture outputs): `cargo fmt`; `cargo clippy --workspace --all-targets -- -D warnings`; `cargo test -p xtask`; `make preflight`.",
      "Additionally run and capture outputs: `SOURCE_DATE_EPOCH=0 cargo run -p xtask -- codex-wrapper-coverage --out cli_manifests/codex/wrapper_coverage.json`; `SOURCE_DATE_EPOCH=0 cargo run -p xtask -- codex-report --version \"$(cat cli_manifests/codex/latest_validated.txt | tr -d '\\n')\" --root cli_manifests/codex`; `SOURCE_DATE_EPOCH=0 cargo run -p xtask -- codex-validate --root cli_manifests/codex`.",
      "Commit integration changes on branch `wcg-c1-scenario-catalog-integ`.",
      "Fast-forward merge `wcg-c1-scenario-catalog-integ` into `feat/codex-wrapper-coverage-auto-generation`; update tasks.json to completed; add an END entry to session_log.md with commands/results/blockers; commit docs with 'docs: finish C1-integ'.",
      "Remove worktree `wt/wcg-c1-scenario-catalog-integ`."
    ],
    "worktree": "wt/wcg-c1-scenario-catalog-integ",
    "integration_task": "C1-integ",
    "kickoff_prompt": "docs/project_management/next/codex-wrapper-coverage-auto-generation/kickoff_prompts/C1-integ.md",
    "depends_on": [
      "C1-code",
      "C1-test"
    ],
    "concurrent_with": []
  }
]
