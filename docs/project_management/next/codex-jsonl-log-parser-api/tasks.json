[
  {
    "id": "C0-code",
    "name": "C0: Offline JSONL parsing API (code)",
    "type": "code",
    "phase": "C0",
    "status": "in_progress",
    "description": "Implement the public offline JSONL parsing API per the contract (production code only).",
    "references": [
      "docs/adr/0005-codex-jsonl-log-parser-api.md",
      "docs/specs/codex-thread-event-jsonl-parser-contract.md",
      "crates/codex/JSONL_COMPAT.md",
      "crates/codex/src/lib.rs",
      "docs/project_management/next/codex-jsonl-log-parser-api/plan.md",
      "docs/project_management/next/codex-jsonl-log-parser-api/C0-spec.md"
    ],
    "acceptance_criteria": [
      "Public API matches the contract (module + reexports + signatures)",
      "Offline parser reuses streaming normalization logic",
      "No tests added/modified"
    ],
    "start_checklist": [
      "git checkout feat/codex-jsonl-log-parser-api && git pull --ff-only",
      "Read plan, tasks.json, session_log.md, C0-spec.md, kickoff prompt",
      "Set task status to in_progress in tasks.json (orchestration branch)",
      "Add START entry to session_log.md; commit docs with message 'docs: start C0-code'",
      "Create the task branch and worktree: `git worktree add -b jp5-c0-jsonl-parser-api-code wt/jp5-c0-jsonl-parser-api-code feat/codex-jsonl-log-parser-api`",
      "Do not edit docs/tasks/session_log.md from the worktree."
    ],
    "end_checklist": [
      "Run required commands (capture outputs): cargo fmt; cargo clippy --workspace --all-targets -- -D warnings.",
      "Inside wt/jp5-c0-jsonl-parser-api-code, commit C0-code changes (no docs/tasks/session_log edits).",
      "Outside the worktree, ensure the task branch contains the new commit (fast-forward if needed); do not merge into feat/codex-jsonl-log-parser-api.",
      "Checkout feat/codex-jsonl-log-parser-api; update tasks.json to completed; add an END entry to session_log.md with commands/results/blockers; commit docs with 'docs: finish C0-code'.",
      "Remove worktree wt/jp5-c0-jsonl-parser-api-code."
    ],
    "worktree": "wt/jp5-c0-jsonl-parser-api-code",
    "integration_task": "C0-integ",
    "kickoff_prompt": "docs/project_management/next/codex-jsonl-log-parser-api/kickoff_prompts/C0-code.md",
    "depends_on": [],
    "concurrent_with": [
      "C0-test"
    ]
  },
  {
    "id": "C0-test",
    "name": "C0: Offline JSONL parsing API (test)",
    "type": "test",
    "phase": "C0",
    "status": "completed",
    "description": "Add tests validating the offline parser scenario catalog (tests only).",
    "references": [
      "docs/specs/codex-thread-event-jsonl-parser-contract.md",
      "docs/specs/codex-thread-event-jsonl-parser-scenarios-v1.md",
      "crates/codex/examples/fixtures/versioned/0.61.0/streaming.jsonl",
      "crates/codex/examples/fixtures/versioned/0.77.0/streaming.jsonl",
      "crates/codex/tests/jsonl_compat.rs",
      "docs/project_management/next/codex-jsonl-log-parser-api/plan.md",
      "docs/project_management/next/codex-jsonl-log-parser-api/C0-spec.md"
    ],
    "acceptance_criteria": [
      "Tests cover scenario catalog A\u2013F",
      "No production code changes",
      "Required commands executed (fmt + targeted tests) and recorded in session_log.md"
    ],
    "start_checklist": [
      "git checkout feat/codex-jsonl-log-parser-api && git pull --ff-only",
      "Read plan, tasks.json, session_log.md, C0-spec.md, kickoff prompt",
      "Set task status to in_progress in tasks.json (orchestration branch)",
      "Add START entry to session_log.md; commit docs with message 'docs: start C0-test'",
      "Create the task branch and worktree: `git worktree add -b jp5-c0-jsonl-parser-api-test wt/jp5-c0-jsonl-parser-api-test feat/codex-jsonl-log-parser-api`",
      "Do not edit docs/tasks/session_log.md from the worktree."
    ],
    "end_checklist": [
      "Run required commands (capture outputs): cargo fmt; cargo test -p codex --test jsonl_compat -- --nocapture; cargo test -p codex --test jsonl_parser_api -- --nocapture.",
      "Inside wt/jp5-c0-jsonl-parser-api-test, commit C0-test changes (no docs/tasks/session_log edits).",
      "Outside the worktree, ensure the task branch contains the new commit (fast-forward if needed); do not merge into feat/codex-jsonl-log-parser-api.",
      "Checkout feat/codex-jsonl-log-parser-api; update tasks.json to completed; add an END entry to session_log.md with commands/results/blockers; commit docs with 'docs: finish C0-test'.",
      "Remove worktree wt/jp5-c0-jsonl-parser-api-test."
    ],
    "worktree": "wt/jp5-c0-jsonl-parser-api-test",
    "integration_task": "C0-integ",
    "kickoff_prompt": "docs/project_management/next/codex-jsonl-log-parser-api/kickoff_prompts/C0-test.md",
    "depends_on": [],
    "concurrent_with": [
      "C0-code"
    ]
  },
  {
    "id": "C0-integ",
    "name": "C0: Offline JSONL parsing API (integration)",
    "type": "integration",
    "phase": "C0",
    "status": "pending",
    "description": "Merge C0 code/test, reconcile to spec, and gate with fmt/clippy/tests/preflight.",
    "references": [
      "docs/adr/0005-codex-jsonl-log-parser-api.md",
      "docs/specs/codex-thread-event-jsonl-parser-contract.md",
      "docs/specs/codex-thread-event-jsonl-parser-scenarios-v1.md",
      "crates/codex/JSONL_COMPAT.md",
      "docs/project_management/next/codex-jsonl-log-parser-api/plan.md",
      "docs/project_management/next/codex-jsonl-log-parser-api/C0-spec.md"
    ],
    "acceptance_criteria": [
      "C0 code/test merged and match C0-spec",
      "cargo fmt + clippy + required tests executed and logged",
      "make preflight passes",
      "Integration merged fast-forward; tasks/logs updated"
    ],
    "start_checklist": [
      "git checkout feat/codex-jsonl-log-parser-api && git pull --ff-only",
      "Read plan, tasks.json, session_log.md, C0-spec.md, kickoff prompt",
      "Set task status to in_progress in tasks.json (orchestration branch)",
      "Add START entry to session_log.md; commit docs with message 'docs: start C0-integ'",
      "Create the integration branch and worktree: `git worktree add -b jp5-c0-jsonl-parser-api-integ wt/jp5-c0-jsonl-parser-api-integ feat/codex-jsonl-log-parser-api`",
      "Do not edit docs/tasks/session_log.md from the worktree."
    ],
    "end_checklist": [
      "Merge upstream C0 code/test branches into the integration worktree and reconcile behavior to the spec.",
      "Run required commands (capture outputs): cargo fmt; cargo clippy --workspace --all-targets -- -D warnings; cargo test -p codex --test jsonl_compat -- --nocapture; cargo test -p codex --test jsonl_parser_api -- --nocapture; make preflight.",
      "Commit integration changes on the integration branch.",
      "Fast-forward merge the integration branch into feat/codex-jsonl-log-parser-api; update tasks.json to completed; add an END entry to session_log.md with commands/results/blockers; commit docs with 'docs: finish C0-integ'.",
      "Remove worktree wt/jp5-c0-jsonl-parser-api-integ."
    ],
    "worktree": "wt/jp5-c0-jsonl-parser-api-integ",
    "integration_task": "C0-integ",
    "kickoff_prompt": "docs/project_management/next/codex-jsonl-log-parser-api/kickoff_prompts/C0-integ.md",
    "depends_on": [
      "C0-code",
      "C0-test"
    ],
    "concurrent_with": []
  }
]
