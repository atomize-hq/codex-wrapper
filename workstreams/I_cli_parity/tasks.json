[
  {
    "id": "I1-design-parity-apis",
    "title": "Design builder/request APIs for missing CLI flags and config overrides",
    "description": "Specify how to surface missing CLI flags (`--config`, `--ask-for-approval`, `--sandbox`, `--full-auto`, `--dangerously-bypass-approvals-and-sandbox`, `--cd`, `--local-provider`, `--search`, `--last`, `--all`) and config overrides (including reasoning/verbosity). Decide on builder vs per-request fields, defaults, and compatibility. Research the CLI/config surface (help + CLI_MATRIX) and update this workstream's tasks/kickoffs if scope changes to keep the plan robust/expandable.",
    "dependencies": [],
    "files": [
      "workstreams/I_cli_parity/BRIEF.md",
      "CLI_MATRIX.md",
      "crates/codex/src/lib.rs"
    ],
    "outputs": ["Design note/doc comments committed to repo"],
    "status": "done"
  },
  {
    "id": "I2-implement-flags-config-overrides",
    "title": "Implement missing flags and config override plumbing",
    "description": "Add builder/request fields and command wiring for missing flags and arbitrary config overrides. Wire reasoning/verbosity/summaries setters and generic `--config key=value` overrides. Ensure exec/resume and any other wrapped subcommands apply the new options. Preserve existing defaults.",
    "dependencies": ["I1-design-parity-apis"],
    "files": [
      "crates/codex/src/lib.rs"
    ],
    "tests": ["cargo test -p codex"],
    "status": "done"
  },
  {
    "id": "I3-tests-docs-examples",
    "title": "Add tests and update docs/examples",
    "description": "Add unit tests for new flags/config overrides; verify backward compatibility. Update README, CLI_MATRIX.md references, and EXAMPLES to show new builder fields and usage. Add example snippets where helpful.",
    "dependencies": ["I2-implement-flags-config-overrides"],
    "files": [
      "crates/codex/src/lib.rs",
      "README.md",
      "crates/codex/EXAMPLES.md",
      "crates/codex/examples"
    ],
    "tests": ["cargo test -p codex", "cargo test -p codex --doc", "cargo test -p codex --examples"],
    "status": "done"
  },
  {
    "id": "I4-auth-session-helper",
    "title": "Optional: Auth/session helper",
    "description": "Add a small helper to check login status and trigger login flows (ChatGPT/API key) using app-scoped CODEX_HOME, without mutating caller env. Make it optional if scope/time is tight.",
    "dependencies": ["I2-implement-flags-config-overrides"],
    "files": [
      "crates/codex/src/lib.rs"
    ],
    "tests": ["cargo test -p codex"],
    "status": "done"
  },
  {
    "id": "I5-tbd",
    "title": "Scope next CLI parity/auth follow-ups",
    "description": "Triage remaining gaps after I4. Decide if further CLI parity/auth/session work is needed (docs, examples, API polish, additional flows). If needed, add/clarify next tasks; otherwise mark workstream complete.",
    "dependencies": ["I4-auth-session-helper"],
    "files": [
      "workstreams/I_cli_parity/BRIEF.md",
      "workstreams/I_cli_parity/tasks.json",
      "README.md",
      "crates/codex/src/lib.rs"
    ],
    "status": "done"
  },
  {
    "id": "I6-profile-flag",
    "title": "Add --profile support",
    "description": "Surface the CLI `--profile <CONFIG_PROFILE>` flag in the Rust wrapper (builder/request) and pass through to the Codex CLI. Update docs/tests as needed.",
    "dependencies": ["I4-auth-session-helper"],
    "files": [
      "crates/codex/src/lib.rs",
      "README.md",
      "workstreams/I_cli_parity/BRIEF.md"
    ],
    "tests": ["cargo test -p codex"],
    "status": "done"
  },
  {
    "id": "I7-sandbox-command-design",
    "title": "Design sandbox command wrapper",
    "description": "Map `codex sandbox` (and aliases/subcommands) to the Rust wrapper: options/positional args, platform variants, and post-run script behavior. Decide minimal surface and ergonomics, note limitations, and plan tests/docs.",
    "dependencies": ["I6-profile-flag"],
    "files": [
      "workstreams/I_cli_parity/BRIEF.md",
      "CLI_MATRIX.md",
      "crates/codex/src/lib.rs",
      "README.md"
    ],
    "status": "done"
  },
  {
    "id": "I8-sandbox-command-impl",
    "title": "Implement sandbox command wrapper",
    "description": "Add Rust wrapper support for `codex sandbox` per I7 design: API surface, command wiring (including optional script-on-finish), tests, and docs/examples.",
    "dependencies": ["I7-sandbox-command-design"],
    "files": [
      "crates/codex/src/lib.rs",
      "README.md"
    ],
    "tests": ["cargo test -p codex"],
    "status": "todo"
  }
]
